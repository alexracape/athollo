(this.webpackJsonpathollo=this.webpackJsonpathollo||[]).push([[0],{14:function(e,t,s){},15:function(e,t,s){},17:function(e,t,s){},24:function(e,t,s){},25:function(e,t,s){},26:function(e,t,s){},27:function(e,t,s){"use strict";s.r(t);var n,c=s(1),a=s.n(c),r=s(9),i=s.n(r),o=(s(14),s(2)),l=s(3),u=s(6),h=s(5),p=s(4),d=(s(15),s(0)),j=function(e){Object(h.a)(s,e);var t=Object(p.a)(s);function s(e){var n;return Object(o.a)(this,s),(n=t.call(this,e)).state={term:""},n.search=n.search.bind(Object(u.a)(n)),n.handleTermChange=n.handleTermChange.bind(Object(u.a)(n)),n}return Object(l.a)(s,[{key:"search",value:function(){this.props.onSearch(this.state.term)}},{key:"handleTermChange",value:function(e){this.setState({term:e.target.value})}},{key:"render",value:function(){return Object(d.jsxs)("div",{className:"SearchBar",children:[Object(d.jsx)("input",{placeholder:"Enter A Song Name",onChange:this.handleTermChange}),Object(d.jsx)("button",{className:"SearchButton",onClick:this.search,children:"SEARCH"})]})}}]),s}(a.a.Component),b=function(e){Object(h.a)(s,e);var t=Object(p.a)(s);function s(e){var n;return Object(o.a)(this,s),(n=t.call(this,e)).selectTrack=n.selectTrack.bind(Object(u.a)(n)),n}return Object(l.a)(s,[{key:"selectTrack",value:function(){this.props.onSelect(this.props.track)}},{key:"render",value:function(){return Object(d.jsxs)("div",{className:"Track",children:[Object(d.jsxs)("div",{className:"Track-information",children:[Object(d.jsx)("h3",{children:this.props.track.name}),Object(d.jsxs)("p",{children:[this.props.track.artist," | ",this.props.track.album]})]}),Object(d.jsx)("button",{className:"Track-action",onClick:this.selectTrack,children:"+"})]})}}]),s}(a.a.Component),g=function(e){Object(h.a)(s,e);var t=Object(p.a)(s);function s(){return Object(o.a)(this,s),t.apply(this,arguments)}return Object(l.a)(s,[{key:"render",value:function(){var e=this;return Object(d.jsx)("div",{className:"TrackList",children:this.props.tracks.map((function(t){return Object(d.jsx)(b,{track:t,onSelect:e.props.onSelect},t.id)}))})}}]),s}(a.a.Component),f=g,O=(s(17),function(e){Object(h.a)(s,e);var t=Object(p.a)(s);function s(){return Object(o.a)(this,s),t.apply(this,arguments)}return Object(l.a)(s,[{key:"render",value:function(){return Object(d.jsxs)("div",{className:"SearchResults",children:[Object(d.jsx)("h2",{children:"Results"}),Object(d.jsx)(f,{tracks:this.props.searchResults,onSelect:this.props.onSelect})]})}}]),s}(a.a.Component)),m=O,v=(s(18),function(e){Object(h.a)(s,e);var t=Object(p.a)(s);function s(){return Object(o.a)(this,s),t.apply(this,arguments)}return Object(l.a)(s,[{key:"render",value:function(){return Object(d.jsx)("div",{className:"Stat",children:Object(d.jsxs)("h2",{children:[this.props.statName," = ",this.props.statValue]})})}}]),s}(a.a.Component)),k=v,S=s(7),C=s.n(S),x=(s(24),a.a.Component,{getAccessToken:function(){if(n)return n;var e=window.location.href.match(/access_token=([^&]*)/),t=window.location.href.match(/expires_in=([^&]*)/);if(e&&t){n=e[1];var s=Number(t[1]);return window.setTimeout((function(){return n=""}),1e3*s),window.history.pushState("Access Token",null,"/"),n}var c="https://accounts.spotify.com/authorize?client_id=".concat("1f54c2244d494eb794495c1a79f0f5eb","&response_type=token&scope=playlist-modify-public&redirect_uri=").concat("https://alexracape.github.io/athollo/","&show_dialog=true");window.location=c},search:function(e){var t=x.getAccessToken();return console.log(t),fetch("https://api.spotify.com/v1/search?type=track&q=".concat(e),{headers:{Authorization:"Bearer ".concat(t)}}).then((function(e){return e.json()})).then((function(e){return console.log(e),e.tracks?e.tracks.items.map((function(e){return{id:e.id,name:e.name,artist:e.artists[0].name,album:e.album.name,uri:e.uri}})):[]}))},getAudioFeatures:function(e){var t=x.getAccessToken();return console.log(t),fetch("https://api.spotify.com/v1/audio-features/".concat(e.id),{headers:{Authorization:"Bearer ".concat(t)}}).then((function(e){return e.json()})).then((function(e){return console.log(e),"audio_features"===!e.type?{}:{danceability:e.danceability,energy:e.energy,loudness:e.loudness,speechiness:e.speechiness,acousticness:e.acousticness,instrumentalness:e.instrumentalness,liveness:e.liveness,tempo:e.tempo}}))}}),y=x,T=(s(25),function(e){Object(h.a)(s,e);var t=Object(p.a)(s);function s(e){var n;return Object(o.a)(this,s),(n=t.call(this,e)).state={value:n.props.initialStat},n.handleChange=n.handleChange.bind(Object(u.a)(n)),n}return Object(l.a)(s,[{key:"handleChange",value:function(e){this.setState({value:e.target.value})}},{key:"render",value:function(){return Object(d.jsxs)("div",{className:"gauge-container",children:[Object(d.jsx)(C.a,{currentValue:Math.round(100*this.props.stats[this.state.value]),size:this.props.gaugeSpecs.size,tickLength:this.props.gaugeSpecs.tickLength,tickWidth:this.props.gaugeSpecs.tickWidth,dialColor:this.props.gaugeSpecs.dialColor,tickColor:this.props.gaugeSpecs.tickColor,progressColor:this.props.gaugeSpecs.progressColor,needleColor:this.props.gaugeSpecs.needleColor,needleBaseColor:this.props.gaugeSpecs.needleBaseColor}),Object(d.jsx)("form",{children:Object(d.jsxs)("select",{className:"select-menu",value:this.state.value,onChange:this.handleChange,children:[Object(d.jsx)("option",{value:"acousticness",children:"Acousticness"}),Object(d.jsx)("option",{value:"danceability",children:"Danceability"}),Object(d.jsx)("option",{value:"energy",children:"Energy"}),Object(d.jsx)("option",{value:"instrumentalness",children:"instrumentalness"}),Object(d.jsx)("option",{value:"liveness",children:"Liveness"}),Object(d.jsx)("option",{value:"speechiness",children:"Speechiness"})]})})]})}}]),s}(a.a.Component)),N=(s(26),function(e){Object(h.a)(s,e);var t=Object(p.a)(s);function s(e){var n;return Object(o.a)(this,s),(n=t.call(this,e)).state={searchResults:[],currentSong:{},songStats:{acousticness:0,danceability:0,energy:0,instrumentalness:0,liveness:0,speechiness:0}},n.selectTrack=n.selectTrack.bind(Object(u.a)(n)),n.search=n.search.bind(Object(u.a)(n)),n}return Object(l.a)(s,[{key:"selectTrack",value:function(e){var t=this;this.state.currentSong!==e&&(this.setState({currentSong:e}),y.getAudioFeatures(e).then((function(e){t.setState({songStats:e})})))}},{key:"search",value:function(e){var t=this;y.search(e).then((function(e){t.setState({searchResults:e})}))}},{key:"render",value:function(){var e={size:400,tickLength:10,tickWidth:2,dialColor:"#3766fc",tickColor:"#3766fc",progressColor:"#1533c5",needleColor:"#fb2d1e",needleBaseColor:"#04040b"},t={size:200,tickLength:10,tickWidth:2,dialColor:"#3766fc",tickColor:"#3766fc",progressColor:"#1533c5",needleColor:"#fb2d1e",needleBaseColor:"#04040b"};return Object(d.jsxs)("div",{className:"App",children:[Object(d.jsx)("h1",{children:"Athollo"}),Object(d.jsxs)("div",{className:"main-container",children:[Object(d.jsx)(T,{initialStat:"energy",stats:this.state.songStats,gaugeSpecs:e}),Object(d.jsxs)("div",{className:"center-flex-container",children:[Object(d.jsx)(j,{className:"center-flex-child",onSearch:this.search}),Object(d.jsx)(m,{className:"center-flex-child",searchResults:this.state.searchResults,onSelect:this.selectTrack}),Object(d.jsxs)("div",{className:"small-gauge-container center",children:[Object(d.jsx)(T,{initialStat:"danceability",stats:this.state.songStats,gaugeSpecs:t}),Object(d.jsx)(T,{initialStat:"acousticness",stats:this.state.songStats,gaugeSpecs:t})]})]}),Object(d.jsx)(T,{initialStat:"speechiness",stats:this.state.songStats,gaugeSpecs:e})]}),Object(d.jsxs)("h2",{children:["Current Song is ",this.state.currentSong.name]})]})}}]),s}(a.a.Component)),w=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,28)).then((function(t){var s=t.getCLS,n=t.getFID,c=t.getFCP,a=t.getLCP,r=t.getTTFB;s(e),n(e),c(e),a(e),r(e)}))};i.a.render(Object(d.jsx)(a.a.StrictMode,{children:Object(d.jsx)(N,{})}),document.getElementById("root")),w()}},[[27,1,2]]]);
//# sourceMappingURL=main.66c27768.chunk.js.map